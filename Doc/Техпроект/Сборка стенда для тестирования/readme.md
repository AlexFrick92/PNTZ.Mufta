# Сборка стенда для тестирования

## Структура стенда

Для того, чтобы отладить обмен данными между ПЛК1517 и АРМ, нам потребуется стенд.

Стенд будет состоять из:

1. Аппаратная часть: ПЛК1517, ПЛК300, Блок питания, коммуникации Profibus, Ethernet.
2. Программа ПЛК1517. 
    1. Интерфейс OPC UA по Ethernet. 
    2. Интерфейс с ПЛК300 по Profibus. 
    3. Имитация сигналов: момент, перемещение, обороты. (Для построения графиков).
3. Программа ПЛК300.
    1. Интерфейс с ПЛК1517 - блоки, в которые ПЛК1517 пишет данные
    2. Имитация алгоритма обмена оперативными, рабочими и параметрами машин. 
        Взять из существующей программы ПЛК400.

![](Структура%20стенда.drawio.svg)

## Программа АРМ

Программа АРМ готовится со следующим функционалом:

1. Ввод рабочих параметров и загрузка их в ПЛК. 
2. Отображение оперативных параметров в графической форме. 
3. Подтверждение результата [годная/брак].
4. Подтверждение параметров машин.

Реализация этого функционала в части интерфейса с ПЛК описана в процедурах обмена данными.

## Программа ПЛК1517

Программа ПЛК готовится на основе описания алгоритмов передачи данных, описанных в процедурах обмена данными.

А так же, для комплексной отладки, необходимо реализовать симуляцию процесса свинчивания:

1. Симуляция процесса свинчивания начинается по специальному биту, доступному через OPC UA
2. Во время процесса свинчивания, отрабатывает процедура обмена оперативными параметрами
3. Датчики: усилие затяжки, длина свинчивания, обороты должны вести себя похожим образом на настоящее свинчивания. Рост показаний можно сделать линейным.
4. При достижении значения, по которому происходит останов свинчивания, свинчивание должно быть остановлено.

### Общий список сигналов OPC UA в ПЛК 1517 необходимый для стенда

Здесь представлен весь перечень сигналов OPC UA, которые ПЛК1517 предоставляет для АРМ. Использование этих сигналов описано в процедурах обмена данными.

[СПИСОК СИГНАЛОВ OPC UA ПЛК1517](Список%20сигналов%20OPC%20UA.md)

## Программа ПЛК300

Программа ПЛК должна быть реализованна в объёме, необходимом для обмена данными, которые описаны в процедурах обмена данными.

## Процедуры обмена данными между АРМ - ПЛК1517 - ПЛК400

1. [Параметры машин](../Параметры%20машин/readme.md)
2. [Загрузка рабочих данных](../Загрузка%20рабочих%20данных/readme.md)
3. [Запись оперативных параметров](../Запись%20оперативных%20параметров/readme.md)
4. [Системные параметры](../Системные%20параметры/readme.md)

















