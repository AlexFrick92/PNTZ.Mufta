# План 10.09

10.09.2024 было совещание в присутствии: 

**Кабенко, Чудинов, Фрик, Алханов.**

Приняли следующее:

```
1. 10.09 - 25.09     Решить задачу интеграции с весовым преобразователем

2. 25.09 - 10.10     Решить задачу обмена данными ПЛК400 - ПЛК1500 - Программа АРМ.
                     Выполнить симуляцию процесса в офисе.

3. 10.10 - 15.11     Получить значения момента, перемещения, оборотов в ПЛК1500 в 
                     единицах СИ, то есть технологических                     

4. 15.11             Начало монтажных работ
                     Выход на ПНР
```

## Описание пункта №2

Для выполнения пункта №2 необходимо:

1. Понять обмен между ПЛК400 и TpcPro (АРМ) - существующая система. Исполнитель - **Фрик А.К.**
   1. Алгоритм обмена для загрузки рабочих параметров. 
   2. Алгоритм обмен оперативными параметрами в процессе свинчивания.
   3. Алгоритм обмена для параметров машин. 
   
2. Реализовать в программе АРМ: Исполнитель - **Фрик А.К.**
   1. Ввод рабочих параметров и загрузка их в ПЛК. 
   2. Отображение оперативных параметров в графической форме. 
   3. Подтверждение результата [годная/брак].
   4. Подтверждение параметров машин.
   
3. Подготовить стенд для отладки. Исполнитель - **Кто-то АСУТП**
   1. Аппаратная часть: ПЛК1517, ПЛК300, Блок питания, коммуникации Profibus, Ethernet.
   2. Программа ПЛК1517. 
      1. Интерфейс OPC UA по Ethernet. 
      2. Интерфейс с ПЛК300 по Profibus. 
      3. Имитация сигналов: момент, перемещение, обороты. (Для построения графиков).
   3. Программа ПЛК300.
      1. Интерфейс с ПЛК1517 - блоки, в которые ПЛК1517 пишет данные
      2. Имитация алгоритма обмена оперативными, рабочими и параметрами машин. 
         Взять из существующей программы ПЛК400.

В результате мы должны получить:

1. Программа АРМ готовая к ПНР, выполняющая функционал запуска и регистрации 
   процесса силовой навёртки.
2. Программа ПЛК1517 готовая к интеграции с АРМ и с ПЛК400 (за исключением обмена EASY)

## План график

Выполняем План 10.09:
1. [x] Создать документ, детально описывающий алгоритм обмена рабочими параметрами АРМ - TpcPro.
2. [X] Создать документ, детально описывающий алгоритм обмена оперативными параметрами.
3. [X] Создать документ, детально описывающий требование к симуляции.
4. [X] Кадр для ввода рабочих параметров с кнопкой загрузки
5. [ ] Кадр с выводом оперативных параметров. С кнопкой выбора и загрузки результата
6. [ ] Кадр с выводов актуальных параметров машин. Кнопка подтвердить параметры машин

## 11.09 - 13.09
1. [x] Создать документ, детально описывающий алгоритм обмена рабочими параметрами.
2. [x] Кадр с вводом рабочих параметров с кнопкой загрузки

    ### 11.09
    1. [x] Описываем тех параметры.
    2. [x] Описываем алгоритм обмена - команды обмена
    3. [x] Описываем блоки данных, номера структуры. Ассоциируем их с тех. параметрами

    ### 12.09
    1. [x] Добавляем поля ввода тех параметров на кадре
    2. [x] Создаём класс viewModel для работы с этими параметрами и создания экземпляра рецепта
    3. [x] Описать передачу временной метки через OPC UA

    ### 13.09
    1. [x] Создаем кнопку сохранения параметров, создаем команду сохранения в json
    2. [x] Сохранить выбранный режим свинчивания
    3. [x] Готовим в симуляторе алгоритм загрузки команды
    4. [x] Отлаживаем алгоритм загрузки
    5. [x] Добавим отмену загрузки по таймауту
    6. [ ] ~~Кадр выбора рецепта из сохраненных~~ 

## 16.09 - 20.09

1. [X] Создать документ, детально описывающий алгоритм обмена оперативными параметрами.


   ### 16.09
   1. [x] Изучить описание установки
   2. [x] Изучить алгоритм силового свинчивания. Последовательность операций

   ### 17.09
   1. [x] Описать алгоритм обмена оперативными параметрами по сщуествующей схеме 

   ### 18.09
   1. [X] Задокументировать алгоритм обмена оперативными параметрами для ПЛК1517 и АРМ
   2. [X] Проект кадра с отображением оперативной информации по свинчиванию
   3. [X] Разработка кадра оперативной инфы : Разметка кадра

   ### 19.09
   1. [X] Совещание в 9:30
   2. [X] Разработка кадра отображения оперативной инфы : вывод значений рецепта
   3. [X] Класс для  сбора результатов

   ### 20.09
   1. [X] Разработка кадра отображения оперативной инфы : вывод результатов   
   2. [X] Создать в ПЛК блоки для результата


## 23.09 - 27.09
1. [X] Собрать стенд совместно с АСУТП
2. [X] Начать отладку ПО на стенде
3. [X] Графики оперативных параметров
4. [X] Обмен сервисными параметрами: режимы, хартбит и другие из блока Kom_REG.

   ### 23.09
   1. [X] Подготовить документ, детально описывающий алгоритм обмена параметрами машин.
   2. [X] Подготовить документ, детально описывающий алгоритм обмена вспомогательных параметров (режимы, хартбит)
   3. [X] Подготовить документ (задание) на сбор стенда и создания программы для симуляции

   ### 24.09
   1. [X] Передать документ Косте для создания стенда
   2. [X] Создать в ПЛК блоки для оперативных параметров   
   3. [X] Отладка обмена оперативными данными с ПЛК : базовый алгоритм


   ### 25.09
   1. [X] Отладка обмена оперативными данными с ПЛК : Запись оперативных параметров   
   2. [X] График Момент/Время

   ### 26.09   
   1. [X] Симуляция оборотов и длины
   2. [X] График Момент/обороты
   3. [X] График Момент/длина
   4. [X] Сервисные параметры: создать в ПЛК, создать класс опрашивающий

   ### 27.09
   1. [X] Блок данных в ПЛК с параметрами машин
   2. [X] Алгоритм в ПЛК с параметрами машин
   3. [X] Алгоритм параметров машин на АРМ
   4. [X] Опробовать параметры машин на стенде
   
      
## 30.09 - 04.10
1. [ ] ~~Рефакторинг. Переработать классы, которые работают с ПЛК~~ Не успел.
2. [X] Отладить на стенде параметры машин
3. [X] Отладить на стенде загрузку рецепта
4. [ ] ~~Отладить на стенде оперативные параметры~~ Не успел
5. [ ] ~~Отладить на стенде сервисные параметры~~ Не успел

   ### 30.09
   1. [ ]

   ### 01.10
   1. [X] Интерфейс для параметров машин
   2. [X] Сохранение параметров машин в файл   
   3. [X] Опробовать загрузку рецепта в ПЛК   
   4. [X] Опробовать хартбит запись и чтение

   ### 02.10      
   1. [X] Передача результата свинчивания

   ### 03.10
   1. [ ] ~~Считывание оперативных параметров через очереди~~ - Проблема с Debouncing   

   ### 04.10
   1. [X] Список рецептов в папке
   2. [X] Загрузка выбранного рецепта
   3. [ ] ~~Отладка оперативных параметров~~ Не успел
    

## 7.10 - 11.10
1. [ ] Сохранение результатов свинчивания
2. [ ] Просмотр результатов свинчивания
3. [ ] Отладка сервисных параметров
4. [ ] Проблема с чтением сложной точки данных (Debouncing)
5. [ ] Рефакторинг. Переработать классы  

   ### 07.10 
   1. [X] Сохранение результатов свинчивания в файлы
   2. [X] Отладка на стенде записи процесса свинчивания. Отладить процедуру команд

   ### 08.10
   1. [X] Отладка на стенде записи процесса свинчивания. Отладить построение графиков
   2. [X] Интерфейс ОПС УА стенда, для отладки без Кабенко
   
   ### 09.10
   1. [ ] Переработать класс с результатом свинчивания
   2. [ ] Загрузка исторических результатов
   3. [ ] Сервисные параметры
   

   ### 10.10
   1. [X] Отладка передачи результатов от ПЛК400 в АРМ и обратно
   2. [X] Отладка отображения на UI актуальных показаний
   
   ### 11.10
