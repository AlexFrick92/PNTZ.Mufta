<Window x:Class="PNTZ.Mufta.Showcase.TestWindows.JointResultAnalysisViewTestWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:joint="clr-namespace:PNTZ.Mufta.TPCApp.View.Joint;assembly=PNTZ.Mufta.TPCApp"
        Title="Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ JointResultAnalysisView"
        Height="800" Width="1400"
        WindowStartupLocation="CenterScreen">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="350"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Ð›ÐµÐ²Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ: ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¸ ÑÐ¿Ð¸ÑÐ¾Ðº Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² -->
        <Border Grid.Column="0"
                Background="#F8F9FA"
                BorderBrush="#DEE2E6"
                BorderThickness="0,0,1,0"
                Padding="15">

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº -->
                <TextBlock Grid.Row="0"
                           Text="ÐÐ½Ð°Ð»Ð¸Ð· Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² ÑÐ²Ð¸Ð½Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ñ"
                           FontSize="18"
                           FontWeight="Bold"
                           Foreground="#2C3E50"
                           Margin="0,0,0,15"/>


                <!-- Ð”ÐµÑ‚ÐµÐºÑ‚Ð¾Ñ€ Ð·Ð°Ð¿Ð»ÐµÑ‡Ð½Ð¸ÐºÐ° -->
                <GroupBox Grid.Row="1"
                          Header="Ð”ÐµÑ‚ÐµÐºÑ‚Ð¾Ñ€ Ð·Ð°Ð¿Ð»ÐµÑ‡Ð½Ð¸ÐºÐ°"
                          Margin="0,15,0,0"
                          Padding="10">
                    <StackPanel>
                        <!-- WindowSize -->
                        <TextBlock Text="Ð Ð°Ð·Ð¼ÐµÑ€ Ð¾ÐºÐ½Ð° (WindowSize):"
                                   FontSize="11"
                                   Margin="0,0,0,3"/>
                        <TextBox x:Name="TxtWindowSize"
                                 Text="30"
                                 Padding="5"
                                 Margin="0,0,0,10"/>

                        <!-- SigmaMultiplier -->
                        <TextBlock Text="ÐœÐ½Ð¾Ð¶Ð¸Ñ‚ÐµÐ»ÑŒ Ïƒ (SigmaMultiplier):"
                                   FontSize="11"
                                   Margin="0,0,0,3"/>
                        <TextBox x:Name="TxtSigmaMultiplier"
                                 Text="10.0"
                                 Padding="5"
                                 Margin="0,0,0,10"/>

                        <!-- SearchStartRatio -->
                        <TextBlock Text="ÐÐ°Ñ‡Ð°Ð»Ð¾ Ð¿Ð¾Ð¸ÑÐºÐ° (SearchStartRatio):"
                                   FontSize="11"
                                   Margin="0,0,0,3"/>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                            <Slider x:Name="SliderSearchStartRatio"
                                    Minimum="0.0"
                                    Maximum="1.0"
                                    Value="0.7"
                                    Width="150"
                                    TickFrequency="0.1"
                                    IsSnapToTickEnabled="True"
                                    VerticalAlignment="Center"
                                    ValueChanged="SliderSearchStartRatio_ValueChanged"/>
                            <TextBlock Text="{Binding ElementName=SliderSearchStartRatio, Path=Value, StringFormat='{}{0:F1}'}"
                                       FontWeight="Bold"
                                       Margin="10,0,0,0"
                                       VerticalAlignment="Center"/>
                        </StackPanel>

                        <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ñ€Ð°ÑÑ‡ÐµÑ‚Ð° -->
                        <Button x:Name="BtnRunDetection"
                                Content="âš™ Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ñ€Ð°ÑÑ‡Ñ‘Ñ‚"
                                Click="BtnRunDetection_Click"
                                Padding="10,8"
                                Background="#E67E22"
                                Foreground="White"
                                BorderThickness="0"
                                Cursor="Hand"
                                Margin="0,5,0,8"/>

                        <!-- Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ -->
                        <TextBlock x:Name="DetectionResultText"
                                   Text="Ð Ð°ÑÑ‡Ñ‘Ñ‚ Ð½Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½"
                                   FontSize="11"
                                   Foreground="#7F8C8D"
                                   TextWrapping="Wrap"/>
                    </StackPanel>
                </GroupBox>

                <!-- ÐšÐ½Ð¾Ð¿ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð‘Ð” -->
                <GroupBox Grid.Row="2"
          Header="Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…"
          Margin="0,0,0,15"
          Padding="10">
                    <StackPanel>
                        <Button x:Name="BtnLoadDatabase"
                Content="ðŸ“‚ Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð‘Ð”"
                Click="BtnLoadDatabase_Click"
                Padding="10,8"
                Background="#3498DB"
                Foreground="White"
                BorderThickness="0"
                Cursor="Hand"
                Margin="0,0,0,8"/>

                        <TextBlock x:Name="DatabaseStatusText"
                   Text="Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð½Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ¶ÐµÐ½Ð°"
                   FontSize="11"
                   Foreground="#7F8C8D"
                   TextWrapping="Wrap"/>
                    </StackPanel>
                </GroupBox>
                <!-- Ð¡Ð¿Ð¸ÑÐ¾Ðº Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² -->
                <GroupBox Grid.Row="3"
                          Header="Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ ÑÐ²Ð¸Ð½Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ñ"
                          Padding="5">
                    <ListBox x:Name="ResultsListBox"
                             SelectionChanged="ResultsListBox_SelectionChanged"
                             Background="White"
                             BorderThickness="0">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <StackPanel Margin="5">
                                    <TextBlock Text="{Binding Name}"
                                               FontWeight="Bold"
                                               FontSize="13"
                                               Foreground="#2C3E50"/>
                                    <TextBlock FontSize="11" Foreground="#7F8C8D">
                                        <Run Text="Ð”Ð°Ñ‚Ð°: "/>
                                        <Run Text="{Binding FinishTimeStamp, StringFormat='dd.MM.yyyy HH:mm:ss'}"/>
                                    </TextBlock>
                                    <TextBlock FontSize="11" Foreground="#7F8C8D">
                                        <Run Text="ÐœÐ¾Ð¼ÐµÐ½Ñ‚: "/>
                                        <Run Text="{Binding FinalTorque, StringFormat='{}{0:F1} Nm'}"/>
                                        <Run Text=" | Ð”Ð»Ð¸Ð½Ð°: "/>
                                        <Run Text="{Binding FinalLength, StringFormat='{}{0:F3} Ð¼'}"/>
                                    </TextBlock>
                                </StackPanel>
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </GroupBox>
            </Grid>
        </Border>

        <!-- ÐŸÑ€Ð°Ð²Ð°Ñ Ð¿Ð°Ð½ÐµÐ»ÑŒ: ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð» Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ -->
        <Border Grid.Column="1"
                Background="White"
                Padding="15">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Ð¡Ñ‚Ð°Ñ‚ÑƒÑ -->
                <Border Grid.Row="0"
                        Background="#D5F4E6"
                        BorderBrush="#27AE60"
                        BorderThickness="1"
                        CornerRadius="3"
                        Padding="10"
                        Margin="0,0,0,15">
                    <TextBlock x:Name="StatusText"
                               Text="Ð“Ð¾Ñ‚Ð¾Ð² Ðº Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÑŽ. Ð—Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸ Ð²Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚."
                               FontSize="12"
                               Foreground="#27AE60"/>
                </Border>

                <!-- ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð» Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ -->
                <Border Grid.Row="1"
                        BorderBrush="#DEE2E6"
                        BorderThickness="1"
                        Background="White">
                    <joint:JointResultAnalysisView x:Name="AnalysisView"/>
                </Border>
            </Grid>
        </Border>
    </Grid>
</Window>
